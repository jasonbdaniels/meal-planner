---
layout: default
title: Grocery List
---

{% assign jsSrc = "grocery-list.js" | relative_url %}
<script src="{{ jsSrc }}" charset="utf-8"></script>
<script type="text/javascript">
  function recipeHTML(recipeKey, ingredients){
    var heading = "<h2>" + recipeKey + "</h2>";
    var ingredientList = "<ul>";

    for (index in ingredients) {
      var ingredient = groceryList.ingredient(recipeKey, index);
      var ingredientListItem = "<li>";

      if(ingredient.amount != null) {
        ingredientListItem += "" + ingredient.amount + " ";
      }

      if(ingredient.unit != null) {
        ingredientListItem += "" + ingredient.unit + " ";
      }

      if(ingredient.type != null) {
        ingredientListItem += "" + ingredient.type + " ";
      }

      ingredientListItem += "</li>";
      ingredientList += "\n\t" + ingredientListItem;
    }

    ingredientList += "\n</ul>";

    return heading  + "\n" + ingredientList;
  }

  function groceryListHTML(){
    var items = groceryList.items();
    var listItemsDiv = document.getElementById("list-items");
    var recipes = Object.keys(items);

    for(key in recipes){
      var recipeKey = recipes[key];
      var ingredients = items[recipeKey];

      listItemsDiv.innerHTML += recipeHTML(recipeKey, ingredients);
    }
  }
</script>

<div id="list-items"></div>
<script type="text/javascript">
  groceryListHTML();
</script>
